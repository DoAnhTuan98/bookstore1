(this.webpackJsonpbookstore1=this.webpackJsonpbookstore1||[]).push([[0],Array(43).concat([function(e,t,a){},,,,,,,,,,function(e,t,a){},,,,,,,,,,function(e,t,a){e.exports=a(133)},,,,,function(e,t,a){},,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),l=(a(68),a(69),a(2)),i=a(3),s=a(5),u=a(4),m=(a(70),a(43),a(144)),d=a(138),p=a(14),h=a(134),E=a(135),f=a(136),g=a(137),v=a(13),y=a(8),b=a.n(y),O=a(17),C=a(34),N=a.n(C),k="http://localhost:9000";function j(e){return P.apply(this,arguments)}function P(){return(P=Object(O.a)(b.a.mark((function e(t){var a,n,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"GET",n=r.length>2?r[2]:void 0,e.prev=2,e.abrupt("return",N()({method:a,url:"".concat(k,"/").concat(t),data:n}));case 6:e.prev=6,e.t0=e.catch(2),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[2,6]])})))).apply(this,arguments)}var T=function(e){return{type:"FILTER_CATEGORY",products:e}},w=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/product","GET",null);case 2:a=e.sent,n=a.data,t(x(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return{type:"GET_ALL_PRODUCT",products:e}},F=function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("api/product?name=".concat(e));case 2:n=t.sent,r=n.data,a(S(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return{type:"FIND_PRODUCT",product:e}},A=function(e,t){return{type:"ADD_TO_CART",product:e,quantity:t}},_=function(e,t){return{type:"DECREASE_CART",product:e,quantity:t}},D=function(e){return{type:"DELETE_CART",product:e}},R=function(e){return{type:"LOGIN",user:e}},I=function(e){return{type:"GET_ALL_ORDER",orders:e}},G=function(e){return function(){var e=Object(O.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/order","GET",null);case 2:a=e.sent,n=a.data,console.log(n),t(L(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return{type:"GET_ALL_ORDER_ADMIN",orders:e}},U=function(e){return{type:"UPDATE_USERPROFILE",user:e}},M=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/auth","GET",null);case 2:a=e.sent,n=a.data,console.log(n),t(B(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return{type:"GET_ALL_CUSTOMERS",customers:e}},q=function(e){return{type:"FILTER_PRODUCTS_ADMIN",products:e}},H=function(e){return{type:"FILTER_PRODUCTS_BY_NAME",products:e}},K=function(e){return{type:"FILTER_ORDERS",orders:e}},$=function(e){return{type:"FILTER_CUSTOMERS",customers:e}},z=function(e){return{type:"DELETE_PRODUCT",product:e}},Y=function(e){return{type:"ADD_PRODUCT",product:e}},J=function(e){return{type:"UPDATE_PRODUCT",product:e}},W=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/category","GET",null);case 2:a=e.sent,n=a.data,console.log(n),t(Q(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){return{type:"GET_ALL_CATEGORY",category:e}},V=function(e){return{type:"ADD_CATEGORY",category:e}},X=function(e){return{type:"DELETE_CATEGORY",category:e}},Z=function(e){return{type:"FILTER_CATEGORY_ADMIN",category:e}},ee=(a(53),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validate=function(e,t){var a="",r="";return e||(a="The email field is required."),t||(r="The password field is required."),!a&&!r||(n.setState({emailErr:a,passwordErr:r}),!1)},n.onHandleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r)),console.log(n.state.email,n.state.password)},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.validate(a,r)&&j("api/auth/sign-in","POST",{email:a,password:r}).then((function(e){n.props.onLogin(e.data),n.props.onCloseModal()})).catch((function(e){return n.setState({err:e.response.data.message})}))},n.state={email:"",password:"",emailErr:"",passwordErr:"",err:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.emailErr,c=e.passwordErr,o=e.err;return r.a.createElement("div",{className:"Authform"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Ch\xe0o m\u1eebng b\u1ea1n"),r.a.createElement("p",null,"\u0110\u0103ng nh\u1eadp v\u1edbi email & password")),o&&r.a.createElement("div",{style:{color:"rgb(97, 26, 21)",backgroundColor:"rgb(253, 236, 234)",textAlign:"center",padding:"15px",borderRadius:"4px"}},o),r.a.createElement(h.a,{onSubmit:this.onSubmit},r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"Email"},"Email"),r.a.createElement(g.a,{type:"email",name:"email",id:"Email",placeholder:"EX: doanhtuan@gmail.com",value:t,onChange:this.onHandleChange}),n&&r.a.createElement("div",{className:"validation"},n)),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"Password"},"Password"),r.a.createElement(g.a,{type:"password",name:"password",id:"Password",placeholder:"EX: tuan123",value:a,onChange:this.onHandleChange}),c&&r.a.createElement("div",{className:"validation"},c)),r.a.createElement(d.a,{size:"lg",block:!0,type:"submit",className:"btn"},"\u0110\u0103ng nh\u1eadp")),r.a.createElement("div",{className:"footer"},"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \xa0",r.a.createElement("span",{className:"signup",onClick:this.props.onOpenFormSignUp},"\u0110\u0103ng k\xfd")))}}]),a}(n.Component)),te=Object(v.b)(null,(function(e){return{onOpenFormSignUp:function(){e({type:"OPEN_FORM_SIGNUP"})}}}))(ee),ae=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ne=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validate=function(e,t,a,r,c){var o=n.validateFn(e,"name")||"",l=n.validateFn(t,"email")||"",i=n.validateFn(a,"password")||"",s=n.validateFn(r,"address")||"",u=n.validateFn(c,"phone")||"";return!(o||l||i||s||u)||(n.setState({nameErr:o,emailErr:l,passwordErr:i,addressErr:s,phoneErr:u}),!1)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.email,c=t.password,o=t.address,l=t.phone;n.validate(a,r,c,o,l)&&j("api/auth/sign-up","POST",{name:a,email:r,password:c,address:o,phone:l}).then((function(){n.props.onOpenFormSignIn()})).catch((function(e){return n.setState({err:e.response.data.message})}))},n.state={name:"",email:"",password:"",address:"",phone:"",nameErr:"",emailErr:"",passwordErr:"",addressErr:"",phoneErr:"",err:""},n}return Object(i.a)(a,[{key:"validateFn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("phone"===t){if(!e)return"The ".concat(t," field is required.");if(e.length<10)return"".concat(t.charAt(0).toUpperCase()+t.slice(1)," must be at least 10 characters.")}if("email"!==t)return e?e.length<6?"".concat(t.charAt(0).toUpperCase()+t.slice(1)," must be at least 6 characters."):"":"The ".concat(t," field is required.");if(!e)return"The ".concat(t," field is required.");var a=ae.test(e);return a?void 0:"Invalid email"}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,c=e.address,o=e.phone,l=e.nameErr,i=e.emailErr,s=e.passwordErr,u=e.addressErr,m=e.phoneErr,p=e.err;return r.a.createElement("div",{className:"Authform"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("p",null,"By signing up, you agree to Pickbazar's")),p&&r.a.createElement("div",{style:{color:"rgb(97, 26, 21)",backgroundColor:"rgb(253, 236, 234)",textAlign:"center",padding:"15px",borderRadius:"4px"}},p),r.a.createElement(h.a,{onSubmit:this.handleSubmit},r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"name"},"Name",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"name",type:"text",name:"name",autoComplete:"off",value:t,onChange:this.handleChange}),l&&r.a.createElement("div",{className:"validation"},l)),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"email"},"Email",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"email",type:"email",name:"email",autoComplete:"off",value:a,onChange:this.handleChange}),i&&r.a.createElement("div",{className:"validation"},i)),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"password"},"Password",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"password",type:"password",name:"password",autoComplete:"off",value:n,onChange:this.handleChange}),s&&r.a.createElement("div",{className:"validation"},s)),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"address"},"Address",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"address",type:"text",name:"address",autoComplete:"off",value:c,onChange:this.handleChange}),u&&r.a.createElement("div",{className:"validation"},u)),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"phone"},"Phone",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",id:"phone",type:"number",name:"phone",value:o,onChange:this.handleChange}),m&&r.a.createElement("div",{className:"validation"},m)),r.a.createElement(d.a,{size:"lg",block:!0,type:"submit"},"Continue")),r.a.createElement("div",{className:"footer"},"Already have an account? \xa0",r.a.createElement("span",{className:"signin",onClick:this.props.onOpenFormSignIn},"Sign In")))}}]),a}(n.Component),re=ne,ce=(a(92),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.statusProfileForm;return r.a.createElement("div",{className:e?"Burger toggle":"Burger",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0",height:"auto",marginLeft:"5px"}},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}))}}]),a}(n.Component)),oe=ce,le=a(11),ie=(a(93),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onToggleProfileForm,a=e.statusProfileForm,n=e.user,c=e.onLogout;return r.a.createElement("div",{className:"User h-100"},r.a.createElement("div",{className:"welcome",onClick:t},"Hello ",n.name,r.a.createElement(oe,{statusProfileForm:a})),r.a.createElement("ul",{className:a?"nav-links nav-active":"nav-links"},r.a.createElement("li",{className:a?"item-active":"item"},r.a.createElement(le.b,{to:"/profile"},"Th\xf4ng tin c\xe1 nh\xe2n")),r.a.createElement("li",{className:a?"item-active":"item"},r.a.createElement(le.b,{to:"/checkout"},"Thanh to\xe1n")),r.a.createElement("li",{className:a?"item-active":"item"},r.a.createElement(le.b,{to:"/order"},"\u0110\u01a1n h\xe0ng")),r.a.createElement("li",{className:a?"item-active":"item"},r.a.createElement(le.b,{to:"#",onClick:c},"\u0110\u0103ng xu\u1ea5t"))))}}]),a}(n.Component)),se=ie,ue=(a(95),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggle=function(){var e=n.state.modal;n.setState({modal:!e})},n.closeModel=function(){n.setState({modal:!1})},n.handleOnclick=function(){n.props.onCheckoutClick(),n.props.onOpenFormSignIn()},n.state={modal:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.onToggleProfileForm,n=e.statusProfileForm,c=e.onLogin,o=e.onLogout,l=e.onOpenFormSignIn,i=e.modal,s=JSON.parse(localStorage.getItem("user")),u=null;s&&(u=s.accessToken);var p=r.a.createElement("button",{className:"auth close",style:{position:"absolute",top:"15px",right:"15px",backgroundColor:"#fff",width:"32px",height:"32px",color:"rgb(34, 34, 34)",borderRadius:"50%",opacity:"1"},onClick:this.props.onCheckoutClick},"\xd7");return r.a.createElement("div",{className:"Nav"},r.a.createElement("div",{className:"logo"},r.a.createElement(le.b,{to:"/"},r.a.createElement("img",{alt:"",src:"https://res.cloudinary.com/dofqucuyy/image/upload/v1585755124/Books/logo_gtuxyy.svg"}))),r.a.createElement("div",{className:"user-btn"},r.a.createElement(m.a,{isOpen:i,toggle:this.props.onCheckoutClick,className:"modal-dialog modal-dialog-centered",external:p},"signin"===t?r.a.createElement(te,{onLogin:c,user:s,onCloseModal:this.props.onCheckoutClick}):r.a.createElement(re,{onOpenFormSignIn:l})),u?r.a.createElement(se,{onToggleProfileForm:a,statusProfileForm:n,user:s,onLogout:o}):r.a.createElement(d.a,{className:"auth-btn",onClick:this.handleOnclick},"\u0110\u0103ng nh\u1eadp")))}}]),a}(n.Component)),me=Object(v.b)((function(e){return{form:e.Form,statusProfileForm:e.statusProfileForm,user:e.user,modal:e.isCheckout}}),(function(e){return{onOpenFormSignIn:function(){e({type:"OPEN_FORM_SIGNIN"})},onToggleProfileForm:function(){e({type:"TOGGLE_PROFILE_FORM"})},onLogin:function(t){e(R(t))},onLogout:function(){e({type:"LOGOUT"})},onCheckoutClick:function(){e({type:"CHECKOUT_CLICK"})}}}))(ue),de=a(10),pe=a(9),he=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).openCartItem=function(){e.props.openCartItem()},e.totalQuantity=function(e){var t=null;return e.forEach((function(e){t+=e.quantity})),t},e.totalPrice=function(e){var t=null;return e.forEach((function(e){t+=e.product.price*e.quantity})),t},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.cart;return r.a.createElement("div",{className:"cart",onClick:this.openCartItem},r.a.createElement("div",{className:"item-amount"},r.a.createElement(de.a,{className:"mr-2",icon:pe.o}),e.length>0?this.totalQuantity(e):0," ",e.length>0&&this.totalQuantity(e)<2?"item":"items"),r.a.createElement("div",{className:"total-price"},r.a.createElement("p",null,"$",e.length>0?this.totalPrice(e):0)))}}]),a}(n.Component),Ee=Object(v.b)((function(e){return{statusCartItem:e.statusCartItem}}),(function(e){return{openCartItem:function(){e({type:"OPEN_CARTITEM"})}}}))(he),fe=(a(105),a(106),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cartCurrently,a=e.product,n=e.type,c=e.onAddToCart,o=e.onDecreaseCart;return r.a.createElement("div",{className:"cart"===n?"QuantityAdjustment cart-style":"QuantityAdjustment"},r.a.createElement("div",{className:"decrease adj",onClick:function(){return o(a)}},r.a.createElement(de.a,{icon:pe.k})),r.a.createElement("div",{className:"number"},t.quantity),r.a.createElement("div",{className:"increase adj",onClick:function(){return c(a)}},r.a.createElement(de.a,{icon:pe.m})))}}]),a}(n.Component)),ge=a(20),ve=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).closeCartItem=function(){n.props.closeCartItem()},n.totalPrice=function(e){var t=null;return e.forEach((function(e){t+=e.product.price*e.quantity})),t},n.handleClick=function(e){e.preventDefault(),JSON.parse(localStorage.getItem("user"))?n.setState({isToken:!0}):n.props.onCheckoutClick()},n.state={isToken:!1},n}return Object(i.a)(a,[{key:"render",value:function(){if(this.state.isToken)return r.a.createElement(ge.a,{to:"/checkout"});var e=this.props,t=e.statusCartItem,a=e.cart,n=e.onAddToCart,c=e.onDecreaseCart,o=e.onDeleteCart,l=null;a.forEach((function(e){l+=e.quantity}));var i=a.map((function(e){return r.a.createElement("div",{key:e.product._id,className:"item"},r.a.createElement(fe,{type:"cart",cartCurrently:e,onAddToCart:n,onDecreaseCart:c,product:e.product}),r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:e.product.img,alt:""})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},e.product.name),r.a.createElement("div",{className:"price"},"$",e.product.price," "),r.a.createElement("div",{className:"quantity"},e.quantity," pc(s)")),r.a.createElement("div",{className:"total-price"},"$",e.product.price*e.quantity),r.a.createElement(de.a,{icon:pe.s,className:"ml-4",onClick:function(){return o(e.product)}}))}));return r.a.createElement("div",{className:!0===t?"cart-item c-show":"cart-item"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"item-amount"},r.a.createElement(de.a,{className:"mr-2",icon:pe.o}),l>0?l:0," ",l<2?"item":"items"),r.a.createElement(de.a,{icon:pe.s,className:"close",onClick:this.closeCartItem})),r.a.createElement("div",{className:"body"},0===a.length&&r.a.createElement("span",{style:{fontSize:"15px",fontWeight:"700",color:"rgb(119, 121, 140)",display:"block",width:"100%",textAlign:"center",padding:"40px 0px"}},"Not Products found"),i),r.a.createElement(le.b,{to:"/checkout",className:0===a.length?"footer disable-btn":"footer",onClick:this.handleClick},r.a.createElement("span",{style:{color:[0===i.length?"rgb(0, 158, 127)":""]}},"Thanh to\xe1n"),r.a.createElement("div",{className:"total"},"$",a.length>0?this.totalPrice(a):0)))}}]),a}(n.Component),ye=Object(v.b)((function(e){return{statusCartItem:e.statusCartItem}}),(function(e){return{closeCartItem:function(){e({type:"CLOSE_CARTITEM"})},onCheckoutClick:function(){e({type:"CHECKOUT_CLICK"})}}}))(ve),be=a(139),Oe=a(140),Ce=a(141),Ne=(a(107),a(108),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.onAddToCart,n=e.cart,c=e.product,o=e.onCartBtnClick,l=e.onDecreaseCart,i=n.find((function(e){return e.product._id===c._id}));return r.a.createElement("div",{className:"cart-btn"},void 0!==i?r.a.createElement(fe,{cartCurrently:i,product:c,onAddToCart:a,onDecreaseCart:l}):r.a.createElement("button",{className:"related"===t?"btn related":"btn",onClick:function(e){a(c),e.preventDefault(),o()}},r.a.createElement(de.a,{icon:pe.p}),"related"===t?r.a.createElement("p",null,"Th\xeam"):r.a.createElement("p",null,"Th\xeam v\xe0o gi\u1ecf h\xe0ng")))}}]),a}(n.Component)),ke=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setShow=function(){n.setState({isShow:!n.state.isShow})},n.state={isShow:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.id,n=e.onAddToCart,c=e.cart,o=e.onCartBtnClick,l=e.onDecreaseCart,i=t.find((function(e){return e._id===a}));return r.a.createElement("div",{className:"ProductView py-5"},r.a.createElement(be.a,{fluid:"lg"},r.a.createElement(Oe.a,null,r.a.createElement(Ce.a,{xl:"6",lg:"6",className:"mb-5 text-center img d-plex"},r.a.createElement(le.b,{to:"/",style:{textDecoration:"none",color:"rgb(0, 158, 127)"}},r.a.createElement("button",{className:"btn back-btn"},r.a.createElement(de.a,{icon:pe.a,className:"mr-2"}),"Back")),r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:i.img,alt:""}))),r.a.createElement(Ce.a,{xl:"6",lg:"6"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,i.name),r.a.createElement("p",null,i.author)),r.a.createElement("div",{className:"description"},r.a.createElement("p",{className:!0===this.state.isShow?"des-show":""},i.des),!1===this.state.isShow?r.a.createElement("div",{className:"read-more",onClick:this.setShow},"Read more"):r.a.createElement("div",{className:"read-more",onClick:this.setShow},"Less")),r.a.createElement("div",{className:"price"},"$",i.price),r.a.createElement(Ne,{onAddToCart:n,product:i,cart:c,onCartBtnClick:o,onDecreaseCart:l}),r.a.createElement("div",{className:"category-product"},r.a.createElement(le.b,{to:"/",className:"btn"},i.category))))))}}]),a}(n.Component),je=(a(109),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.id;return r.a.createElement("div",{className:"relate-items"},r.a.createElement(be.a,{className:"max-width"},r.a.createElement(Oe.a,{className:"ml-2"},r.a.createElement("h1",null,"S\u1ea3n ph\u1ea9m li\xean quan")),r.a.createElement(Oe.a,null,this.props.showProduct(t,a))))}}]),a}(n.Component)),Pe=(a(110),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.deleteProduct,a=e.product,n=e.onDeleteCategory,c=e.id;switch(e.type){case"category":return r.a.createElement("div",{className:"cart-btn"},r.a.createElement(d.a,{className:"btn related",onClick:function(){return n(c)}},r.a.createElement(de.a,{icon:pe.t}),r.a.createElement("p",null,"Delete")));default:return r.a.createElement("div",{className:"cart-btn"},r.a.createElement(d.a,{className:"btn related",onClick:function(){return t(a)}},r.a.createElement(de.a,{icon:pe.t}),r.a.createElement("p",null,"Delete")))}}}]),a}(n.Component)),Te=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t=e.props.product;e.props.onGetProductUpdate(t),e.props.onOpenFormProduct()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.product,n=e.cart,c=e.onAddToCart,o=e.onCartBtnClick,l=e.onDecreaseCart,i=e.deleteProduct;return r.a.createElement(Ce.a,{className:"mb-5",sm:"6",lg:"4",xl:"3"},r.a.createElement(le.b,{className:"product",to:"admin"===t?"/admin/products":"/product/".concat(a._id)},r.a.createElement("img",{src:a.img,alt:"this is image",onClick:"admin"===t?this.handleClick:null}),r.a.createElement("div",{className:"info"},r.a.createElement("h3",{className:"title"},a.name),r.a.createElement("p",{className:"author"},a.author)),("related"===t||"admin"===t)&&r.a.createElement("div",{className:"cartbtn-price"},r.a.createElement("div",{className:"price"},"$",a.price),"admin"!==t&&r.a.createElement(Ne,{type:t,cart:n,product:a,onAddToCart:c,onCartBtnClick:o,onDecreaseCart:l}),"admin"==t&&r.a.createElement(Pe,{deleteProduct:i,product:a}))))}}]),a}(n.Component),we=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).showProduct=function(t,a){var n=t.find((function(e){return e._id===a})).category,c=t.filter((function(e){return e.category===n})),o=null;return c.length>0&&(o=c.map((function(t,a){return r.a.createElement(Te,{key:a,product:t,type:"related",cart:e.props.cart,onAddToCart:e.props.onAddToCart,onCartBtnClick:e.props.onCartBtnClick,onDecreaseCart:e.props.onDecreaseCart})}))),o},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.onAddToCart,n=e.cart,c=e.onCartBtnClick,o=e.onDecreaseCart,l=e.onDeleteCart;console.log(n);var i=this.props.match.match.params.id;return r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement(Ee,{cart:n}),r.a.createElement(ye,{cart:n,onAddToCart:a,onDecreaseCart:o,onDeleteCart:l}),r.a.createElement(ke,{products:t,id:i,onAddToCart:a,cart:n,onCartBtnClick:c,onDecreaseCart:o}),r.a.createElement(je,{showProduct:this.showProduct,products:t,id:i}))}}]),a}(n.Component),xe=Object(v.b)((function(e){return{cart:e.cart,products:e.products,statusCartItem:e.statusCartItem}}),(function(e){return{onGetAllProducts:function(){e(x())},onAddToCart:function(t){e(A(t,1))},onDecreaseCart:function(t){e(_(t,1))},onCartBtnClick:function(){e({type:"CARTBTN_CLICK"})},onDeleteCart:function(t){e(D(t))}}}))(we),Fe=(a(111),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handeChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.handleOnclick=function(){var e=n.state.keyword;n.props.onFindProduct(e),n.setState({keyword:""})},n.state={keyword:""},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Banner"},r.a.createElement(be.a,null,r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"C\u1eeda h\xe0ng s\xe1ch c\u1ee7a ri\xeang b\u1ea1n"),r.a.createElement("p",null,"Nh\u1eadn nh\u1eefng cu\u1ed1n s\xe1ch y\xeau th\xedch c\u1ee7a b\u1ea1n t\u1eeb nhi\u1ec1u lo\u1ea1i s\xe1ch c\u1ee7a ch\xfang t\xf4i.")),r.a.createElement("div",{className:"search-bar"},r.a.createElement("span",{className:"label"},"S\xe1ch"),r.a.createElement("form",null,r.a.createElement("input",{className:"p-0",type:"text",placeholder:"T\xecm ki\u1ebfn s\xe1ch c\u1ee7a b\u1ea1n t\u1ea1i \u0111\xe2y",name:"keyword",value:this.state.keyword,onChange:this.handeChange})),r.a.createElement(d.a,{onClick:this.handleOnclick},r.a.createElement(de.a,{icon:pe.n,className:"mr-2"}),"T\xecm ki\u1ebfm"))))}}]),a}(n.Component)),Se=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.onFindProduct;return r.a.createElement("header",null,r.a.createElement(me,null),r.a.createElement(Fe,{onFindProduct:e}))}}]),a}(n.Component),Ae=(a(112),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onFilterProducts,a=e.paginate,n=e.category;return console.log(n),r.a.createElement(Ce.a,{lg:"3",xl:"2"},r.a.createElement("div",{className:"category"},r.a.createElement("div",{className:"logo"},r.a.createElement(de.a,{icon:pe.r,className:"mr-2"}),"Ch\u1ecdn th\u1ec3 lo\u1ea1i"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e._id,onClick:function(){t(e.name),a(1)}},r.a.createElement("p",null,e.name))})))))}}]),a}(n.Component)),_e=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).showPageNumbers=function(t){return t.map((function(t,a){return r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement(le.b,{to:"#",className:"page-link",onClick:function(){return e.props.paginate(t)}},t))}))},e}return Object(i.a)(a,[{key:"render",value:function(){for(var e=this.props,t=e.perPage,a=e.totalProducts,n=[],c=1;c<=Math.ceil(a/t);c++)n.push(c);return r.a.createElement("ul",{className:"pagination"},this.showPageNumbers(n))}}]),a}(n.Component),De=(a(113),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Sorry, No result found :("),r.a.createElement("img",{className:"w-100",src:"https://res.cloudinary.com/dofqucuyy/image/upload/v1586332632/Books/notfound_sufieg.svg",alt:""}),r.a.createElement("button",{className:"btn",onClick:this.props.onGetAllProduct},r.a.createElement(de.a,{icon:pe.f}),"Go Back")))}}]),a}(n.Component)),Re=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.perPage,n=e.totalProducts,c=e.paginate,o=e.onGetAllProduct;return r.a.createElement(Ce.a,{lg:"9",xl:"10"},r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"h-100 container"},t.length?r.a.createElement(Oe.a,null,this.props.children(t)):r.a.createElement(De,{onGetAllProduct:o}),r.a.createElement(Oe.a,{style:{justifyContent:"center"}},r.a.createElement(_e,{perPage:a,totalProducts:n,paginate:c})))))}}]),a}(n.Component),Ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.perPage,n=e.totalProducts,c=e.paginate,o=e.onFilterProducts,l=e.onGetAllProduct,i=e.category;return r.a.createElement("main",{className:"main"},r.a.createElement(be.a,{fluid:!0},r.a.createElement(Oe.a,null,r.a.createElement(Ae,{onFilterProducts:o,paginate:c,category:i}),r.a.createElement(Re,{products:t,perPage:a,totalProducts:n,paginate:c,onGetAllProduct:l},this.props.showProducts))))}}]),a}(n.Component),Ge=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).showProducts=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(Te,{key:t,product:e,onGetOneProduct:n.props.onGetOneProduct})}))),t},n.paginate=function(e){n.setState({currentPage:e})},n.state={currentPage:1,perPage:8},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllCategory(),this.props.onGetAllProduct()}},{key:"render",value:function(){var e=this.state,t=e.currentPage,a=e.perPage,n=this.props,c=n.products,o=n.cart,l=n.onAddToCart,i=n.onDecreaseCart,s=n.onDeleteCart,u=n.onFilterProducts,m=n.onFindProduct,d=n.onGetAllProduct,p=n.category,h=t*a,E=h-a,f=c.slice(E,h);return r.a.createElement("div",null,r.a.createElement(Se,{onFindProduct:m}),r.a.createElement(Ee,{cart:o}),r.a.createElement(ye,{cart:o,onDecreaseCart:i,onAddToCart:l,onDeleteCart:s}),r.a.createElement(Ie,{showProducts:this.showProducts,products:f,perPage:a,totalProducts:c.length,paginate:this.paginate,onFilterProducts:u,onGetAllProduct:d,category:p}))}}]),a}(n.Component),Le=Object(v.b)((function(e){return{products:e.products,cart:e.cart,statusAlert:e.statusAlert,category:e.category}}),(function(e){return{onFilterProducts:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("api/product?category=".concat(e),"GET",null);case 2:n=t.sent,r=n.data,console.log(r),a(T(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onGetAllProduct:function(){e(w())},onGetOneProduct:function(t){e(function(e){return{type:"GET_ONE_PRODUCT",id:e}}(t))},onFindProduct:function(t){e(F(t))},onAddToCart:function(t){e(A(t,1))},onDecreaseCart:function(t){e(_(t))},onDeleteCart:function(t){e(D(t))},onGetAllCategory:function(){e(W())}}}))(Ge),Ue=(a(114),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-side-bar d-none d-xl-block"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(le.b,{to:"order"},"\u0110\u01a1n h\xe0ng c\u1ee7a b\u1ea1n")),r.a.createElement("li",{className:"nav-item mb-5"},r.a.createElement(le.b,{to:"/checkout"},"Thanh to\xe1n")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(le.b,{to:"profile"},"Thi\u1ebft l\u1eadp t\xe0i kho\u1ea3n")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(le.b,{to:"#"},"\u0110\u0103ng xu\u1ea5t"))))}}]),a}(n.Component)),Me=a(25),Be=(a(115),a(29)),qe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).totalPrice=function(e){var t=null;return e.forEach((function(e){t+=e.product.price*e.quantity})),t},n.handleSubmit=function(){var e=Object(O.a)(b.a.mark((function e(t){var a,r,c,o,l,i,s,u,m,d,p,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.props,r=a.stripe,c=a.elements,delete(o=Object(Me.a)({},n.state)).redirect,delete o.id,delete o.error,"cash"!==o.payment){e.next=17;break}return e.next=9,j("api/order","POST",o);case 9:l=e.sent,console.log(l.data),i=l.data._id,n.props.onCreateOrder(l.data),n.props.onRemoveAllCart(),localStorage.removeItem("cart"),n.props.onCloseCartItem(),n.setState({id:i,redirect:!0});case 17:if("card"!==o.payment){e.next=43;break}return e.next=20,r.createPaymentMethod({type:"card",card:c.getElement(Be.CardElement)});case 20:if(s=e.sent,u=s.error,m=s.paymentMethod,u){e.next=43;break}return e.prev=24,d=m.id,e.next=28,N.a.post("http://localhost:9000/api/charge",{id:d,amount:100*o.totalPrice,order:o});case 28:return e.next=30,j("api/order","POST",o);case 30:p=e.sent,h=p.data._id,n.props.onCreateOrder(p.data),n.props.onRemoveAllCart(),localStorage.removeItem("cart"),n.props.onCloseCartItem(),n.setState({id:h,redirect:!0}),e.next=43;break;case 39:e.prev=39,e.t0=e.catch(24),console.log(e.t0),n.setState({error:e.t0.response.data.message});case 43:case"end":return e.stop()}}),e,null,[[24,39]])})));return function(t){return e.apply(this,arguments)}}(),n.onHandleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.totalQuantity=function(e){var t=null;return e.forEach((function(e){t+=e.quantity})),t},n.totalPrice=function(e){var t=null;return e.forEach((function(e){t+=e.product.price*e.quantity})),t},n.state={id:"",name:"",email:"",address:"",phone:"",payment:"",date:"",totalPrice:"",cartItem:"",redirect:!1,error:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),a=this.totalPrice(this.props.cart),n=this.props.cart,r=this.props.user,c=r.name,o=r.email,l=r.address,i=r.phone;this.setState({name:c,email:o,address:l,phone:i,date:t,totalPrice:a,cartItem:n})}},{key:"render",value:function(){var e=this.props.stripe,t=this.state,a=t.payment,n=t.redirect,c=t.id,o=t.error,l=this.props,i=l.user,s=l.cart;return!0===n?r.a.createElement(ge.a,{to:"/order-received/".concat(c)}):r.a.createElement("div",{className:"checkout-form"},r.a.createElement("div",{className:"order-info"},r.a.createElement("h3",null,"\u0110\u01a1n h\xe0ng c\u1ee7a b\u1ea1n"),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"title"},"T\u1ed5ng(",this.totalQuantity(s),")"),r.a.createElement("div",{className:"price"},"$",this.totalPrice(s))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"title"},"Mi\u1ec5n ph\xed v\u1eadn chuy\u1ec3n"),r.a.createElement("div",{className:"price"},"$0.00")),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"title"},"Ti\u1ec1n c\u1ea7n thanh to\xe1n"),r.a.createElement("div",{className:"price"},"$",this.totalPrice(s)))),r.a.createElement(h.a,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"billing-address"},r.a.createElement("h3",{className:"bt-header"},"Th\xf4ng tin c\u1ee7a b\u1ea1n"),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"name"},"T\xean"),r.a.createElement(g.a,{type:"text",name:"text",id:"name",autoComplete:"off",value:i.name,onChange:this.onHandleInput})),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"email"},"Email"),r.a.createElement(g.a,{type:"email",name:"email",id:"email",value:i.email,onChange:this.onHandleInput})),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"address"},"\u0110\u1ecba ch\u1ec9"),r.a.createElement(g.a,{type:"text",name:"address",id:"address",value:i.address,onChange:this.onHandleInput})),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"phone"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.a.createElement(g.a,{type:"text",name:"phone",id:"phone",value:i.phone,onChange:this.onHandleInput}))),r.a.createElement("div",{className:"payment"},r.a.createElement("h3",{className:"bt-header"},"Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"),r.a.createElement(E.a,{className:"d-flex justify-content-between mb-3 p-0"},r.a.createElement(g.a,{type:"radio",id:"cash",name:"payment",value:"cash",onChange:this.onHandleInput,autoComplete:"off"})," ",r.a.createElement(f.a,{for:"cash",check:!0},r.a.createElement(de.a,{icon:pe.l}),r.a.createElement("span",null,"Ti\u1ec1n m\u1eb7t")),r.a.createElement(g.a,{type:"radio",id:"card",name:"payment",value:"card",onChange:this.onHandleInput,autoComplete:"off"})," ",r.a.createElement(f.a,{for:"card",check:!0},r.a.createElement(de.a,{icon:pe.h}),r.a.createElement("span",null,"Th\u1ebb ATM")))),"card"===a&&r.a.createElement(Be.CardElement,null),o&&r.a.createElement("p",{style:{color:"red",textAlign:"center",marginTop:"5px"}},o),r.a.createElement(d.a,{type:"submit",className:"btn w-100",disabled:!e},"Ti\u1ebfn h\xe0nh thanh to\xe1n")))}}]),a}(n.Component),He=(a(116),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.cart,n=e.onCreateOrder,c=e.history,o=e.onCloseCartItem,l=e.onRemoveAllCart;return console.log(c),r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement("div",{className:"checkout user-container"},r.a.createElement("div",{className:"side-bar"},r.a.createElement(Ue,null)),r.a.createElement(Be.ElementsConsumer,null,(function(e){var i=e.stripe,s=e.elements;return r.a.createElement(qe,{stripe:i,elements:s,user:t,cart:a,onCreateOrder:n,history:c,onCloseCartItem:o,onRemoveAllCart:l})}))))}}]),a}(n.Component)),Ke=Object(v.b)((function(e){return{user:e.user,cart:e.cart}}),(function(e){return{onCreateOrder:function(t){e(function(e){return{type:"CREATE_ORDER",order:e}}(t))},onCloseCartItem:function(){e({type:"CLOSE_CARTITEM"})},onRemoveAllCart:function(){e({type:"REMOVE_ALL_CART"})}}}))(He),$e=(a(117),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).totalQuantity=function(e){var t=null;return e.forEach((function(e){t+=e.quantity})),t},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.order;console.log(e);var t=this.props.match.match.params.id,a=e.find((function(e){return e._id===t}));return console.log(a),r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement("div",{className:"order-received user-container"},r.a.createElement("div",{className:"user-wrapper"},r.a.createElement("div",{className:"btn-back-to-home"},r.a.createElement(d.a,null,r.a.createElement(le.b,{to:"/"},"Tr\u1edf l\u1ea1i"))),r.a.createElement("div",{className:"received mb-5"},r.a.createElement("h3",{className:"bt-header"},"\u0110\u01a1n h\xe0ng \u0111\xe3 \u0111\u01b0\u1ee3c nh\u1eadn"),r.a.createElement("p",{className:"mb-4"},"C\u1ea3m \u01a1n b\u1ea1n \u0111\u01a1n \u0111\u1eb7t h\xe0ng c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c nh\u1eadn"),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"info-data"},r.a.createElement("div",{className:"info-header"},"M\xe3 \u0111\u01a1n h\xe0ng"),r.a.createElement("p",null,a._id)),r.a.createElement("div",{className:"info-data"},r.a.createElement("div",{className:"info-header"},"Ng\xe0y"),r.a.createElement("p",null,a.date)),r.a.createElement("div",{className:"info-data"},r.a.createElement("div",{className:"info-header"},"T\u1ed5ng ti\u1ec1n"),r.a.createElement("p",null,"$",a.totalPrice)),r.a.createElement("div",{className:"info-data"},r.a.createElement("div",{className:"info-header"},"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"),r.a.createElement("p",null,"cash"===a.payment?"Ti\u1ec1n m\u1eb7t":"Th\u1ebb ATM")))),r.a.createElement("div",{className:"detail mb-5"},r.a.createElement("h3",{className:"bt-header"},"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-header m-0"},"S\u1ea3n ph\u1ea9m"),r.a.createElement("p",null,this.totalQuantity(a.cartItem),this.totalQuantity(a.cartItem)<2?"Item":"Items")),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-header m-0"},"Th\u1eddi gian \u0111\u1eb7t h\xe0ng"),r.a.createElement("p",null,a.date)),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-header m-0"},"\u0110\u1ecba ch\u1ec9"),r.a.createElement("p",null,a.address))),r.a.createElement("div",{className:"amount detail"},r.a.createElement("h3",{className:"bt-header"},"T\u1ed5ng c\u1ed9ng"),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-header m-0"},"Th\xe0nh ti\u1ec1n"),r.a.createElement("p",null,"$",a.totalPrice)),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-header m-0"},"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"),r.a.createElement("p",null,"cash"===a.payment?"Ti\u1ec1n m\u1eb7t":"Th\u1ebb ATM")),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-header m-0"},"T\u1ed5ng ti\u1ec1n"),r.a.createElement("p",null,"$",a.totalPrice))))))}}]),a}(n.Component)),ze=Object(v.b)((function(e){return{order:e.order}}),null)($e),Ye=a(142),Je=a(143),We=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).showItems=function(e){return e.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:e.product.img,alt:""}))),r.a.createElement("td",null,r.a.createElement("div",{className:"title"},e.product.name),r.a.createElement("div",{className:"price"},"$",e.product.price)),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,"$",e.quantity*e.product.price,".00"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.orders,a=e.indexOrderSelected,n=null,c=null;return t.length>0&&(c=(n=t[a]).cartItem),console.log(n),console.log(c),r.a.createElement("div",{className:"order-detail"},r.a.createElement("h3",{className:"bt-header"},"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),0===t.length?r.a.createElement("span",{style:{fontSize:"15px",fontWeight:"700",color:"rgb(119, 121, 140)",display:"block",width:"100%",textAlign:"center",padding:"40px 0px"}},"No Order Found"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"address"},r.a.createElement("div",{className:"title"},"\u0110\u1ecba ch\u1ec9 giao h\xe0ng"),r.a.createElement("span",null,n.address),r.a.createElement("div",{className:"title mt-4"},"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"),r.a.createElement("span",null,"card"===n.payment?"Thanh to\xe1n Online":"Ti\u1ec1n m\u1eb7t")),r.a.createElement("div",{className:"info"},r.a.createElement("div",null,"T\u1ed5ng \u0111\u01a1n h\xe0ng",r.a.createElement("span",null,"$",n.totalPrice)),r.a.createElement("div",null,"Gi\u1ea3m gi\xe1",r.a.createElement("span",null,"$0.00")),r.a.createElement("div",null,"Ph\xed ship",r.a.createElement("span",null,"$0.00")),r.a.createElement("div",null,"Th\xe0nh ti\u1ec1n",r.a.createElement("span",null,"$",n.totalPrice)))),r.a.createElement("div",{className:"progress-wrapper"},r.a.createElement(Ye.a,{value:"75"},r.a.createElement("div",{className:"des"},r.a.createElement("div",{className:"check-btn"},r.a.createElement(de.a,{icon:pe.e})),r.a.createElement("div",{className:"text"},"\u0110\u01a1n h\xe0ng \u0111\xe3 \u0111\u01b0\u1ee3c nh\u1eadn")),r.a.createElement("div",{className:"des"},r.a.createElement("div",{className:"check-btn"},r.a.createElement(de.a,{icon:pe.e})),r.a.createElement("div",{className:"text"},"\u0110\u01a1n h\xe0ng \u0111ang giao")),r.a.createElement("div",{className:"des"},r.a.createElement("div",{className:"check-btn not-completed"},"3"),r.a.createElement("div",{className:"text"},"\u0110\xe3 nh\u1eadn h\xe0ng")))),r.a.createElement("div",{className:"items"},r.a.createElement(Je.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"S\u1ed1 l\u01b0\u1ee3ng"),r.a.createElement("th",null,"Gi\xe1"))),r.a.createElement("tbody",null,this.showItems(c))))))}}]),a}(n.Component),Qe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.order,a=e.index,n=e.onGetIndexOrderSelected,c=e.indexOrderSelected;return console.log(a,c),r.a.createElement("div",{className:a===c?"order-active order":"order",onClick:function(){return n(a)}},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"header"},"\u0110\u01a1n h\xe0ng#",a+1),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"order-info"},"Ng\xe0y:",r.a.createElement("span",null,t.date)),r.a.createElement("div",{className:"order-info"},"Id:",r.a.createElement("span",null,t._id)),r.a.createElement("div",{className:"order-info"},"T\u1ed5ng ti\u1ec1n:",r.a.createElement("span",null,"$",t.totalPrice)))))}}]),a}(n.Component),Ve=(a(118),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).showOrder=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(Qe,{key:t,index:t,order:e,onGetIndexOrderSelected:n.getIndexOrderSelected,indexOrderSelected:n.state.indexOrderSelected})}))),t},n.getIndexOrderSelected=function(e){n.setState({indexOrderSelected:e})},n.state={indexOrderSelected:0},n}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.onGetAllOrders(this.props.user)}},{key:"render",value:function(){var e=this.props.orders;console.log(e);var t=this.state.indexOrderSelected;return r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement("div",{className:"orders user-container"},r.a.createElement("div",null,r.a.createElement(Ue,null)),r.a.createElement("div",{className:"order-container"},r.a.createElement("div",{className:"my-order mx-4"},r.a.createElement("h3",{className:"bt-header"},"\u0110\u01a1n h\xe0ng c\u1ee7a b\u1ea1n"),this.showOrder(e)),r.a.createElement(We,{orders:e,indexOrderSelected:t}))))}}]),a}(n.Component)),Xe=Object(v.b)((function(e){return{orders:e.order,user:e.user}}),(function(e){return{onGetAllOrders:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.email),t.next=3,j("api/order?email=".concat(e.email),"GET",null);case 3:n=t.sent,r=n.data,console.log(r),a(I(r));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ve),Ze=(a(119),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state;n.props.onUpdateUser(t)},n.state={name:"",email:"",address:"",phone:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.user,t=e.name,a=e.email,n=e.address,r=e.phone;this.setState({name:t,email:a,address:n,phone:r})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.address,c=e.phone;return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement("div",{className:"UserProfile user-container"},r.a.createElement("div",null,r.a.createElement(Ue,{page:"profile"})),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Your Profile")),r.a.createElement(h.a,{onSubmit:this.handleSubmit},r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"name"},"Name",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"name",type:"text",name:"name",autoComplete:"off",value:t,onChange:this.handleChange})),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"email"},"Email",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"email",type:"email",name:"email",autoComplete:"off",value:a,onChange:this.handleChange})),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"address"},"Address",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{id:"address",type:"text",name:"address",autoComplete:"off",value:n,onChange:this.handleChange})),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"phone"},"Phone",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",id:"phone",type:"text",name:"phone",value:c,onChange:this.handleChange})),r.a.createElement(d.a,{size:"lg",block:!0,type:"submit"},"Save")))))}}]),a}(n.Component)),et=Object(v.b)((function(e){return{user:e.user}}),(function(e){return{onUpdateUser:function(t){var a;e((a=t,function(){var e=Object(O.a)(b.a.mark((function e(t){var n,r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/auth/update-user","PUT",a);case 2:n=e.sent,r=JSON.parse(localStorage.getItem("user")),c=r.accessToken,(o=n.data).accessToken=c,t(U(o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}}))(Ze),tt=(a(120),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validate=function(e,t){var a="",r="";return e||(a="The Username field is required."),t||(r="The Password field is required."),!a&&!r||(n.setState({usernameError:a,passwordErr:r}),!1)},n.onHandleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.onSubmit=function(){var e=Object(O.a)(b.a.mark((function e(t){var a,r,c,o,l,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.username,c=a.password,!n.validate(r,c)){e.next=9;break}return o={username:r,password:c},e.next=7,j("api/admin/sign-in","POST",o);case 7:(l=e.sent)&&(i=l.data,s=i.accessToken,localStorage.setItem("adminToken",s),n.setState({isLogin:!0}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",password:"",emailErr:"",passwordErr:"",err:"",isLogin:!1},n}return Object(i.a)(a,[{key:"render",value:function(){if(this.state.isLogin)return r.a.createElement(ge.a,{to:"/admin/products"});var e=this.state,t=e.email,a=e.password,n=e.usernameError,c=e.passwordErr,o=e.err;return r.a.createElement("div",{className:"AdminLogin"},r.a.createElement("div",{className:"Authform"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:"https://res.cloudinary.com/dofqucuyy/image/upload/v1585755124/Books/logo_gtuxyy.svg",alt:""}),r.a.createElement("p",null,"Login to Admin")),o&&r.a.createElement("div",{style:{color:"rgb(97, 26, 21)",backgroundColor:"rgb(253, 236, 234)",textAlign:"center",padding:"15px",borderRadius:"4px"}},o),r.a.createElement(h.a,{onSubmit:this.onSubmit},r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"Username"},"Username"),r.a.createElement(g.a,{type:"text",name:"username",id:"Username",placeholder:"EX: admin123",value:t,onChange:this.onHandleChange}),n&&r.a.createElement("div",{className:"validation"},n)),r.a.createElement(E.a,null,r.a.createElement(f.a,{for:"Password"},"Password"),r.a.createElement(g.a,{type:"password",name:"password",id:"Password",placeholder:"EX: admin123",value:a,onChange:this.onHandleChange}),c&&r.a.createElement("div",{className:"validation"},c)),r.a.createElement(d.a,{size:"lg",block:!0,type:"submit",className:"btn"},"Continue"))))}}]),a}(n.Component)),at=(a(121),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.onOpenFormProduct;return r.a.createElement("div",{className:"NavAdmin"},r.a.createElement("div",{className:"logo"},r.a.createElement(le.b,{to:"/"},r.a.createElement("img",{src:"https://res.cloudinary.com/dofqucuyy/image/upload/v1585755124/Books/logo_gtuxyy.svg",alt:""}))),r.a.createElement("div",{className:"add-products-btn",onClick:e},"Th\xeam s\u1ea3n ph\u1ea9m"))}}]),a}(n.Component)),nt=(a(122),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleClick=function(){localStorage.removeItem("adminToken")},e.showLinkItem=function(e){return e.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(le.b,{to:e.path},r.a.createElement(de.a,{icon:e.icon}),e.text))}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.match.match.path;return r.a.createElement("ul",{className:"navs"},r.a.createElement("li",null,r.a.createElement(le.b,{to:"/admin",className:"/admin"===e?"link-active":""},r.a.createElement(de.a,{icon:pe.r}),"Th\u1ed1ng k\xea")),r.a.createElement("li",null,r.a.createElement(le.b,{to:"/admin/products",className:"/admin/products"===e?"link-active":""},r.a.createElement(de.a,{icon:pe.p}),"S\u1ea3n ph\u1ea9m")),r.a.createElement("li",null,r.a.createElement(le.b,{to:"/admin/category",className:"/admin/category"===e?"link-active":""},r.a.createElement(de.a,{icon:pe.i}),"Danh m\u1ee5c")),r.a.createElement("li",null,r.a.createElement(le.b,{to:"/admin/orders",className:"/admin/orders"===e?"link-active":""},r.a.createElement(de.a,{icon:pe.c}),"\u0110\u01a1n \u0111\u1eb7t h\xe0ng")),r.a.createElement("li",null,r.a.createElement(le.b,{to:"/admin/customers",className:"/admin/customers"===e?"link-active":""},r.a.createElement(de.a,{icon:pe.w}),"Kh\xe1ch h\xe0ng")),r.a.createElement("li",null,r.a.createElement(le.b,{to:"/admin/login",className:"/admin"===e?"link-active":"",onClick:this.handleClick},r.a.createElement(de.a,{icon:pe.q}),"\u0110\u0103ng xu\u1ea5t")))}}]),a}(n.Component)),rt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handeChange=function(e){var t=n.state.price,a=n.props.keyword,r=e.target,c=r.name,o=r.value;a&&(t?n.props.onFilterProducts(a,o,t):n.props.onFilterProducts(a,o,"")),a||(t?n.props.onFilterProducts("",o,t):n.props.onFilterProducts("",o,"")),t&&"Price"!==t?n.props.getFilter(o,t):n.props.getFilter(o,""),n.setState(Object(p.a)({},c,o))},n.handeChangeFilterPrice=function(e){var t=n.state.category,a=n.props.keyword,r=e.target,c=r.name,o=r.value;a&&(t&&"Category Type"!==t&&n.props.onFilterProducts(a,t,o),t&&"Category Type"===t&&n.props.onFilterProducts(a,"",o)),a||(t&&"Category Type"!==t?n.props.onFilterProducts("",t,o):n.props.onFilterProducts("","",o)),t&&"Category Type"!==t?n.props.getFilter(t,o):n.props.getFilter("",o),n.setState(Object(p.a)({},c,o))},n.handeChangePayment=function(e){var t=n.state.amount,a=n.props.keyword_email,r=e.target,c=r.name,o=r.value;t&&"Amount"!==t?n.props.onFilterOrders(o,t,a):n.props.onFilterOrders(o,"",a),t&&"Amount"!==t?n.props.getFilterOrders(o,t):n.props.getFilterOrders("",t),n.setState(Object(p.a)({},c,o))},n.handeChangeAmount=function(e){var t=n.state.payment,a=n.props.keyword_email,r=e.target,c=r.name,o=r.value;t&&"Payment Method"!==t?n.props.onFilterOrders(t,o,a):n.props.onFilterOrders("",o,a),t&&"Payment Method"!==t?n.props.getFilterOrders(t,o):n.props.getFilterOrders(t,""),n.setState(Object(p.a)({},c,o))},n.showOption=function(e){return e.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))},n.state={category:"Category Type",price:"Price",payment:"Payment Method",amount:"Amount",orderAmount:"Order Amount"},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.category,a=e.price,n=e.payment,c=e.amount,o=e.orderAmount;switch(this.props.type){case"Orders":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"3",className:"Filter mb-3 mb-xl-0"},r.a.createElement("select",{name:"payment",onChange:this.handeChangePayment,value:n,className:"name ",style:{color:"rgb(22, 31, 106)",fontWeight:"600"}},this.showOption(["Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n","Cash On Delivery","Online Payment"]))),r.a.createElement(Ce.a,{xl:"3",className:"Filter mb-3 mb-xl-0"},r.a.createElement("select",{name:"amount",onChange:this.handeChangeAmount,value:c,className:"name",style:{color:"rgb(22, 31, 106)",fontWeight:"600"}},this.showOption(["S\u1ed1 ti\u1ec1n","Highest to Lowest","Lowest to Highest"]))));case"Customers":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"3",className:"Filter mb-3 mb-xl-0"},r.a.createElement("select",{name:"orderAmount",onChange:this.handeChange,value:o,className:"name",style:{color:"rgb(22, 31, 106)",fontWeight:"600"}},this.showOption(["Order Amount","Highest to Lowest","Lowest to Highest"]))));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"3",className:"Filter mb-3 mb-xl-0"},r.a.createElement("select",{name:"category",onChange:this.handeChange,value:t,className:"name",style:{color:"rgb(22, 31, 106)",fontWeight:"600"}},r.a.createElement("option",{value:"Category Type"},"Danh m\u1ee5c"),this.props.category.map((function(e){return r.a.createElement("option",{key:e._id,value:e.name},e.name)})))),r.a.createElement(Ce.a,{xl:"3",className:"Filter mb-3 mb-xl-0"},r.a.createElement("select",{name:"price",onChange:this.handeChangeFilterPrice,value:a,className:"name",style:{color:"rgb(22, 31, 106)",fontWeight:"600"}},this.showOption(["Gi\xe1","Highest to Lowest","Lowest to Highest"]))))}}}]),a}(n.Component),ct=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChangeProducts=function(e){var t=n.props,a=(t.category,t.price,e.target),r=a.name,c=a.value;n.setState(Object(p.a)({},r,c)),n.props.onFilterProductsByName(c),n.props.getKeyword(c)},n.handleChangeOrders=function(e){var t=n.props,a=t.payment,r=t.amount,c=e.target,o=c.name,l=c.value;n.setState(Object(p.a)({},o,l)),console.log(a,r),n.props.onFilterOrders(a,r,l),n.props.getKeywordOrders(l)},n.handleChangeCustomers=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r)),n.props.onFilterCustomers(r)},n.handleChangeCategory=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r)),n.props.onFilterCategory(r)},n.handleSubmit=function(e){e.preventDefault()},n.handleClick=function(){n.setState({keyword_product:"",keyword_order:"",keyword_customer:""})},n.state={keyword_product:"",keyword_order:"",keyword_customer:"",keyword_category:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.keyword_product,a=e.keyword_customer,n=e.keyword_order,c=e.keyword_category;switch(this.props.type){case"Orders":return r.a.createElement(Ce.a,{xl:"4",className:"Search"},r.a.createElement(h.a,{className:"h-100",onSubmit:this.handleSubmit},r.a.createElement(E.a,null,r.a.createElement(g.a,{value:n,onChange:this.handleChangeOrders,name:"keyword_order",placeholder:"Ex: T\xecm ki\u1ebfm theo email"}))));case"Customers":return r.a.createElement(Ce.a,{xl:"6  ",className:"Search",style:{maxWidth:"none"}},r.a.createElement(h.a,{className:"h-100",onSubmit:this.handleSubmit},r.a.createElement(E.a,null,r.a.createElement(g.a,{value:a,onChange:this.handleChangeCustomers,name:"keyword_customer",placeholder:"Ex: T\xecm ki\u1ebfm theo t\xean"}))));case"Category":return r.a.createElement(Ce.a,{xl:"6  ",className:"Search",style:{maxWidth:"none"}},r.a.createElement(h.a,{className:"h-100",onSubmit:this.handleSubmit},r.a.createElement(E.a,null,r.a.createElement(g.a,{value:c,onChange:this.handleChangeCategory,name:"keyword_category",placeholder:"Ex: T\xecm ki\u1ebfm theo t\xean"}))));default:return r.a.createElement(Ce.a,{xl:"4",className:"Search"},r.a.createElement(h.a,{className:"h-100",onSubmit:this.handleSubmit},r.a.createElement(E.a,null,r.a.createElement(g.a,{value:t,onChange:this.handleChangeProducts,name:"keyword_product",placeholder:"Ex: T\xecm ki\u1ebfm theo t\xean"}))))}}}]),a}(n.Component),ot=(a(123),a(124),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-products-btn",onClick:this.props.onToggleFormCategory},r.a.createElement(de.a,{icon:pe.m,className:"mr-2"}),"Th\xeam danh m\u1ee5c")}}]),a}(n.Component)),lt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(e){},e.showTaskBar=function(e){},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.onFilterProducts,n=e.onFindProduct,c=e.onFilterProductsByName,o=e.getKeyword,l=e.keyword,i=e.category,s=e.price,u=e.getFilter,m=e.onFilterOrders,d=e.getKeywordOrders,p=e.getFilterOrders,h=e.payment,E=e.amount,f=e.keyword_email,g=e.onFilterCustomers,v=e.onToggleFormCategory,y=e.onFilterCategory;switch(t){case"Customers":return r.a.createElement(Oe.a,{className:"TaskBar"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"2",className:"mb-4 mb-xl-0"},r.a.createElement("h3",{className:"title"},"Kh\xe1ch h\xe0ng")),r.a.createElement(ct,{type:t,onFindProduct:n,onFilterCustomers:g})));case"Orders":return r.a.createElement(Oe.a,{className:"TaskBar"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"2",className:"mb-4 mb-xl-0"},r.a.createElement("h3",{className:"title"},"\u0110\u01a1n \u0111\u1eb7t h\xe0ng")),r.a.createElement(rt,{type:t,onFilterOrders:m,getFilterOrders:p,keyword_email:f}),r.a.createElement(ct,{type:t,onFilterOrders:m,getKeywordOrders:d,payment:h,amount:E})));case"Category":return r.a.createElement(Oe.a,{className:"TaskBar"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"2",className:"mb-4 mb-xl-0"},r.a.createElement("h3",{className:"title"},"Danh m\u1ee5c")),r.a.createElement(ct,{type:t,onFilterCategory:y}),r.a.createElement(ot,{onToggleFormCategory:v})));default:return r.a.createElement(Oe.a,{className:"TaskBar"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{xl:"2",className:"mb-4 mb-xl-0"},r.a.createElement("h3",{className:"title"},t||"S\u1ea3n ph\u1ea9m")),r.a.createElement(rt,{type:t,onFilterProducts:a,keyword:l,getFilter:u,category:i}),r.a.createElement(ct,{type:t,onFilterProductsByName:c,onFilterProducts:a,getKeyword:o,category:i,price:s})))}}}]),a}(n.Component),it=(a(125),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getKeyword=function(e){n.setState({keyword:e})},n.getFilter=function(e,t){n.setState({category:e,price:t})},n.state={keyword:"",category:"",price:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.perPage,n=e.totalProducts,c=e.paginate,o=e.onFilterProducts,l=e.onFindProduct,i=e.onFilterProductsByName,s=e.category;return r.a.createElement("div",{className:"AdminProducts admin-page"},r.a.createElement(be.a,null,r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col mb-4 pb-0"},r.a.createElement(lt,Object(p.a)({onFilterProducts:o,onFindProduct:l,onFilterProductsByName:i,getKeyword:this.getKeyword,keyword:this.state.keyword,getFilter:this.getFilter,category:this.state.category,price:this.state.price},"category",s)))),r.a.createElement(Oe.a,null,this.props.showProducts(t)),r.a.createElement(Oe.a,{style:{justifyContent:"center"}},r.a.createElement(_e,{perPage:a,totalProducts:n,paginate:c}))))}}]),a}(n.Component)),st=(a(126),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validateFn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?"":"The ".concat(t," field is required.")},n.validate=function(e,t,a,r,c){var o=n.validateFn(e,"name")||"",l=n.validateFn(t,"price")||"",i=n.validateFn(a,"des")||"",s=n.validateFn(r,"category")||"",u=n.validateFn(c,"author")||"";return!(o||l||i||s||u)||(n.setState({nameErr:o,priceErr:l,desErr:i,categoryErr:s,authorErr:u}),!1)},n.handleClick=function(){n.props.onCloseFormProduct(),n.props.onResetProductUpdate()},n.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.handleImage=function(){var e=Object(O.a)(b.a.mark((function e(t){var a,r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,r=a.files[0],c=new FormData,console.log(c),c.append("image",r,r.name),e.next=7,j("api/upload/post","POST",c);case 7:(o=e.sent)&&(n.state.img&&n.setState({url_img:o.data.url_img,img:""}),n.setState({url_img:o.data.url_img}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleClickCreateOrUpdateProduct=function(){var e=Object(O.a)(b.a.mark((function e(t){var a,r,c,o,l,i,s,u,m,d,p,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a._id,c=a.name,o=a.price,l=a.des,i=a.category,s=a.author,u=a.url_img,m=a.img,d=n.validate(c,o,l,i,s),console.log(d),r?(p={_id:r,name:c,price:o,des:l,category:i,author:s,img:u||m},d&&(n.props.onUpdateProduct(p),n.props.onResetProductUpdate())):(h={name:c,price:o,des:l,category:i,author:s,img:u},d&&n.props.onAddProduct(h));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={_id:"",name:"",price:"",img:"",des:"",category:"Children Literature",author:"",url_img:"",nameErr:"",priceErr:"",desErr:"",categoryErr:"",authorErr:"",err:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.productEditing;this.isEmpty(e)?this.setState({category:"Children Literature"}):this.setState({_id:e._id,name:e.name,price:e.price,des:e.des,img:e.img,author:e.author,category:e.category})}},{key:"render",value:function(){var e=this.props,t=e.isOpenFormProduct,a=e.productEditing,n=e.onCloseFormProduct,c=(e.isClick,this.state),o=c.name,l=c.price,i=c.des,s=c.category,u=c.author,m=c.url_img,p=c.img,v=c.nameErr,y=c.priceErr,b=c.desErr,O=c.categoryErr,C=c.authorErr;return r.a.createElement("div",{className:t?"ProductFuncBackground update-active":"ProductFuncBackground"},r.a.createElement(be.a,{className:t?"ProductFunc update-active":"ProductFunc"},r.a.createElement(Oe.a,{style:{position:"fixed",top:"0",width:"100%",left:"0",right:"0",margin:"0",padding:"50px 35px 0 70px"}},r.a.createElement(Ce.a,{className:"d-flex justify-content-between p-0"},r.a.createElement("h3",{className:"bt-header mb-5",style:{fontSize:"18px",color:"rgb(22,31,106)"}},this.isEmpty(a)?"Th\xeam s\u1ea3n ph\u1ea9m":"Update s\u1ea3n ph\u1ea9m"),r.a.createElement(de.a,{icon:pe.s,onClick:this.handleClick}))),r.a.createElement(h.a,{style:{height:"100%",overflow:"scroll"}},r.a.createElement(Oe.a,{className:"mb-5 w-100 m-0"},r.a.createElement(Ce.a,{xl:"4",style:{padding:"30px"}},r.a.createElement("span",{className:"product-title"},"Upload \u1ea3nh t\u1ea1i \u0111\xe2y")),r.a.createElement(Ce.a,{xl:"8",className:"product-background"},r.a.createElement(E.a,null,r.a.createElement(g.a,{id:"file",type:"file",accept:"image/*",name:"fileImg",onChange:this.handleImage}),r.a.createElement(f.a,{for:"file",className:"input-wrapper"},r.a.createElement(de.a,{icon:pe.g,size:"2x"}),r.a.createElement("span",null,r.a.createElement("span",null,"Drag/Upload "),"\u1ea3nh c\u1ee7a b\u1ea1n t\u1ea1i \u0111\xe2y")),p&&r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:a.img,alt:""})),m&&r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{src:m,alt:""}))))),r.a.createElement(Oe.a,{className:"w-100 m-0"},r.a.createElement(Ce.a,{xl:"4",style:{padding:"30px"}},r.a.createElement("span",{className:"product-title"},"Th\xeam nh\u1eefng th\xf4ng tin c\u1ea7n thi\u1ebft c\u1ee7a s\u1ea3n ph\u1ea9m t\u1ea1i \u0111\xe2y")),r.a.createElement(Ce.a,{className:"product-background"},r.a.createElement(E.a,{className:"update-form"},r.a.createElement(f.a,{className:"product-label",for:"name"},"T\xean",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",className:"product-form-control",id:"name",type:"text",name:"name",onChange:this.handleChange,value:o}),v&&r.a.createElement("div",{className:"validation"},v)),r.a.createElement(E.a,{className:"update-form"},r.a.createElement(f.a,{className:"product-label",for:"description"},"M\xf4 t\u1ea3",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement("div",null,r.a.createElement("textarea",{value:i,className:"product-form-control",id:"description",type:"text",name:"des",onChange:this.handleChange,autoComplete:"off"})),b&&r.a.createElement("div",{className:"validation"},b)),r.a.createElement(E.a,{className:"update-form"},r.a.createElement(f.a,{className:"product-label",for:"price"},"Gi\xe1",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",className:"product-form-control",id:"price",type:"number",name:"price",onChange:this.handleChange,value:l}),y&&r.a.createElement("div",{className:"validation"},y)),r.a.createElement(E.a,{className:"update-form"},r.a.createElement(f.a,{className:"product-label",for:"author"},"T\xe1c gi\u1ea3",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",className:"product-form-control",id:"author",type:"text",name:"author",onChange:this.handleChange,value:u}),C&&r.a.createElement("div",{className:"validation"},C)),r.a.createElement(E.a,{className:"update-form"},r.a.createElement(f.a,{className:"product-label",for:"category"},"Danh m\u1ee5c",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",className:"product-form-control",id:"category",type:"select",name:"category",onChange:this.handleChange,value:s},this.props.category.map((function(e){return r.a.createElement("option",{key:e.name},e.name)}))),O&&r.a.createElement("div",{className:"validation"},O)))),r.a.createElement(Oe.a,{className:"update-btn"},r.a.createElement(Ce.a,{className:"p-0 cancle-btn w-100"},r.a.createElement(d.a,{className:"w-100",onClick:n},"Hu\u1ef7")),r.a.createElement(Ce.a,{className:"p-0 submit-btn w-100"},r.a.createElement(d.a,{className:"w-100",type:"submit",onClick:this.handleClickCreateOrUpdateProduct},this.isEmpty(a)?"Th\xeam s\u1ea3n ph\u1ea9m":"Update S\u1ea3n ph\u1ea9m"))))))}}]),a}(n.Component)),ut=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).showProducts=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(Te,{key:t,product:e,type:"admin",onOpenFormProduct:n.props.onOpenFormProduct,onGetProductUpdate:n.props.onGetProductUpdate,deleteProduct:n.props.deleteProduct})}))),t},n.paginate=function(e){n.setState({currentPage:e})},n.state={currentPage:1,perPage:8},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllCategory(),this.props.onGetAllProduct()}},{key:"render",value:function(){if(!localStorage.getItem("adminToken"))return r.a.createElement(ge.a,{to:"/admin/login"});var e=this.state,t=e.currentPage,a=e.perPage,n=this.props,c=n.products,o=n.onFilterProducts,l=n.onFindProduct,i=n.onFilterProductsByName,s=n.onOpenFormProduct,u=n.isOpenFormProduct,m=n.onCloseFormProduct,d=n.productEditing,p=n.onResetProductUpdate,h=n.onAddProduct,E=n.onUpdateProduct,f=(n.isClick,n.category),g=t*a,v=g-a,y=c.slice(v,g);return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{onOpenFormProduct:s}),r.a.createElement(nt,{match:this.props.match}),u?r.a.createElement(st,{isOpenFormProduct:u,onCloseFormProduct:m,productEditing:d,onResetProductUpdate:p,onAddProduct:h,onUpdateProduct:E,category:f}):"",r.a.createElement(it,{showProducts:this.showProducts,products:y,perPage:a,totalProducts:c.length,paginate:this.paginate,onFilterProducts:o,onFindProduct:l,onFilterProductsByName:i,category:f}))}}]),a}(n.Component),mt=Object(v.b)((function(e){return{products:e.products,isOpenFormProduct:e.isOpenFormProduct,productEditing:e.productEditing,category:e.category}}),(function(e){return{onGetAllProduct:function(){e(w())},onFilterProducts:function(t,a,n){e(function(e,t,a){return console.log(e,t,a),function(){var n=Object(O.a)(b.a.mark((function n(r){var c,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j("api/product?name=".concat(e,"&category=").concat(t,"&sortBy=").concat(a&&"Price"!==a?"price":"","&sort=").concat(a&&"Price"!==a?a:""));case 2:c=n.sent,o=c.data,r(q(o));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))},onFindProduct:function(t){e(F(t))},onFilterProductsByName:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("api/product?name=".concat(e));case 2:n=t.sent,r=n.data,a(H(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onOpenFormProduct:function(){e({type:"TOGGLE_FORM_PRODUCT"})},onCloseFormProduct:function(){e({type:"TOGGLE_FORM_PRODUCT"})},onGetProductUpdate:function(t){e(function(e){return{type:"GET_PRODUCT_UPDATE",product:e}}(t))},onResetProductUpdate:function(){e({type:"RESET_PRODUCT_UPDATE"})},deleteProduct:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._id,t.next=3,j("api/product/".concat(n),"DELETE",null);case 3:r=t.sent,console.log(r.data),a(z(r.data));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onAddProduct:function(t){var a;e((a=t,function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/product","POST",a);case 2:(n=e.sent)&&(t(Y(n.data)),t({type:"TOGGLE_FORM_PRODUCT"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onUpdateProduct:function(t){var a;e((a=t,function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("api/product","PUT",a);case 2:(n=e.sent)&&(t(J(n.data)),t({type:"TOGGLE_FORM_PRODUCT"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onGetAllCategory:function(){e(W())}}}))(ut),dt=(a(127),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getKeywordOrders=function(e){console.log(e),n.setState({keyword_email:e})},n.getFilterOrders=function(e,t){console.log(e,t),n.setState({payment:e,amount:t})},n.paginate=function(e){n.setState({currentPage:e})},n.state={payment:"",amount:"",keyword_email:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllOrders()}},{key:"render",value:function(){if(!localStorage.getItem("adminToken"))return r.a.createElement(ge.a,{to:"/admin/login"});var e=this.props,t=e.orders,a=e.onFilterOrders,n=this.state,c=n.payment,o=n.amount,l=n.keyword_email;return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,null),r.a.createElement(nt,{match:this.props.match}),r.a.createElement("div",{className:"AdminProducts admin-page"},r.a.createElement(be.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col mb-4 pb-0"},r.a.createElement(lt,{type:"Orders",onFilterOrders:a,getKeywordOrders:this.getKeywordOrders,getFilterOrders:this.getFilterOrders,payment:c,amount:o,keyword_email:l}))),r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col p-0",style:{overflow:"auto",maxHeight:"450px"}},r.a.createElement(Je.a,{className:"admin-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Th\u1eddi gian"),r.a.createElement("th",null,"S\u1ed1 ti\u1ec1n"),r.a.createElement("th",null,"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"\u0110\u1ecba ch\u1ec9 giao h\xe0ng"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.date),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,"cash"===e.payment?"Cash On Delivery":"Online Payment"),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.address))}))))))))))}}]),a}(n.Component)),pt=Object(v.b)((function(e){return{orders:e.order}}),(function(e){return{onGetAllOrders:function(){e(G())},onFilterOrders:function(t,a,n){e(function(e,t,a){return"Payment Method"===e&&(e=""),e="Online Payment"===e?"card":"cash",console.log(e),function(){var n=Object(O.a)(b.a.mark((function n(r){var c,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j("api/order?email=".concat(a,"&payment=").concat(e,"&sortBy=").concat(t&&"Amount"!==t?"totalPrice":"","&sort=").concat(t));case 2:c=n.sent,o=c.data,r(K(o));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(dt),ht=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).totalAmount=function(e){var t=null;return e.forEach((function(e){t+=e.totalPrice})),t},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllCustomers(),this.props.onGetAllOrders()}},{key:"render",value:function(){var e=this;if(!localStorage.getItem("adminToken"))return r.a.createElement(ge.a,{to:"/admin/login"});var t=this.props,a=t.customers,n=t.orders,c=t.onFilterCustomers;return a.forEach((function(t){var a=n.filter((function(e){return e.email===t.email})),r=a.length,c=e.totalAmount(a);t.totalOrder=r,t.totalAmount=c})),r.a.createElement(r.a.Fragment,null,r.a.createElement(at,null),r.a.createElement(nt,{match:this.props.match}),r.a.createElement("div",{className:"AdminProducts admin-page"},r.a.createElement(be.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col mb-4 pb-0"},r.a.createElement(lt,{type:"Customers",onFilterCustomers:c}))),r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col p-0",style:{overflow:"auto",maxHeight:"450px"}},r.a.createElement(Je.a,{className:"admin-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"T\xean"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"S\u1ed1 \u0111\u01a1n h\xe0ng"),r.a.createElement("th",null,"S\u1ed1 ti\u1ec1n"),r.a.createElement("th",null,"\u0110\u1ecba ch\u1ec9"))),r.a.createElement("tbody",null,a.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.totalOrder?e.totalOrder:"0"),r.a.createElement("td",null,"$",e.totalAmount?e.totalAmount:"0"),r.a.createElement("td",null,e.address))}))))))))))}}]),a}(n.Component),Et=Object(v.b)((function(e){return{customers:e.customers,orders:e.order,isOpenFormProduct:e.isOpenFormProduct,productEditing:e.productEditing}}),(function(e){return{onGetAllCustomers:function(){e(M())},onGetAllOrders:function(){e(G())},onFilterCustomers:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("api/auth?name=".concat(e));case 2:n=t.sent,r=n.data,a($(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(ht),ft=(a(128),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.icon,n=e.background,c=e.color,o=e.data,l=t.split(" ");return r.a.createElement("div",{className:"Statistic admin-col h-100"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"bt-header",style:{color:"rgb(22, 31, 106)"}},t)),r.a.createElement("div",{className:"icon",style:{backgroundColor:"".concat(n),color:"".concat(c)}},r.a.createElement(de.a,{icon:a}))),r.a.createElement("div",{className:"number"},r.a.createElement("div",{className:"amount"},"Total Revenue"===t&&"$",o),r.a.createElement("div",{className:"up-down",style:{color:"rgb(3, 211, 181)"}},r.a.createElement("div",{className:"up"},r.a.createElement(de.a,{icon:pe.b}),l[1]," up"))))}}]),a}(n.Component)),gt=a(59),vt=a(60),yt=a.n(vt),bt=(a(130),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllOrders()}},{key:"render",value:function(){var e,t=this.props.orders,a=t.reduce((function(e,t){return e+=t.totalPrice}),0),n=[],c=[0,0,0,0,0,0,0,0,0,0,0,0],o=Object(gt.a)(t);try{for(o.s();!(e=o.n()).done;){var l=e.value,i=l.date.split("-"),s=new Date(i[0]+" "+i[1]+" "+i[2]);n.push({month:s.getMonth(),totalPrice:l.totalPrice})}}catch(E){o.e(E)}finally{o.f()}for(var u=n.reduce((function(e,t){return t.month in e?e[t.month]++:e[t.month]=1,e}),{}),m=0;m<=11;m++)for(var d in u){if(m===parseInt(d)){c[m]=u[d];break}c[m]=0}var p=[{name:"Sale",data:c}],h={colors:["rgba(3, 211, 181, 0.85)"],grid:{show:!1},chart:{toolbar:{show:!1},type:"bar",height:350,foreColor:"rgb(22, 31, 106)"},plotOptions:{bar:{dataLabels:{style:{fontSize:"16px"}},horizontal:!1,columnWidth:"60%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["January","February","March","April","May","June","July","August","September","October","November","December"],labels:{style:{fontSize:"16px"}}},yaxis:{labels:{style:{fontSize:"16px"},formatter:function(e){return Math.trunc(e)}}},fill:{opacity:1,colors:["rgba(3, 211, 181, 0.85)"]},tooltip:{fillSeriesColor:!1,y:{title:{formatter:function(e){return e}},formatter:void 0}}};return r.a.createElement("div",{className:"Sale admin-col"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",{className:"bt-header"},"L\u1ecbch s\u1eed b\xe1n h\xe0ng"),r.a.createElement("div",{className:"total"},"$",a)),r.a.createElement(yt.a,{options:h,series:p,type:"bar",height:350}))}}]),a}(n.Component)),Ot=Object(v.b)((function(e){return{orders:e.order}}),(function(e){return{onGetAllOrders:function(){e(G())}}}))(bt),Ct=(a(131),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllOrders(),this.props.onGetAllCustomers()}},{key:"render",value:function(){if(!localStorage.getItem("adminToken"))return r.a.createElement(ge.a,{to:"/admin/login"});var e=this.props,t=e.orders,a=e.customers,n=t.reduce((function(e,t){return e+=t.totalPrice}),0),c=[{title:"T\u1ed5ng thu nh\u1eadp",icon:pe.j,background:"rgb(255, 232, 178)",color:"rgb(255, 179, 0)",data:n},{title:"T\u1ed5ng \u0111\u01a1n h\xe0ng",icon:pe.d,background:"rgb(250, 202, 202)",color:"rgb(255, 110, 110)",data:t.length},{title:"S\u1ed1 kh\xe1ch h\xe0ng",icon:pe.v,background:"rgb(209, 249, 245)",color:"rgb(39, 199, 183)",data:a.length},{title:"T\u1ed5ng giao h\xe0ng",icon:pe.u,background:"rgb(248, 218, 194)",color:"rgb(255, 129, 29)",data:t.length}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,null),r.a.createElement(nt,{match:this.props.match}),r.a.createElement("div",{className:"Admin admin-page"},r.a.createElement(be.a,null,r.a.createElement(Oe.a,null,c.map((function(e){return r.a.createElement(Ce.a,{xl:"3",lg:"6",md:"6",className:"mb-4",key:e.title},r.a.createElement(ft,{title:e.title,icon:e.icon,color:e.color,background:e.background,data:e.data}))}))),r.a.createElement(Oe.a,null,r.a.createElement(Ce.a,{className:"mb-4"},r.a.createElement(Ot,{revenue:n,orders:t}))))))}}]),a}(n.Component)),Nt=Object(v.b)((function(e){return{orders:e.order,customers:e.customers}}),(function(e){return{onGetAllOrders:function(){e(G())},onGetAllCustomers:function(){e(M())}}}))(Ct),kt=(a(132),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validateFn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?"":"The ".concat(t," field is required.")},n.validate=function(e){var t=n.validateFn(e,"name")||"";return!t||(n.setState({nameErr:t}),!1)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.handleClick=function(){var e=Object(O.a)(b.a.mark((function e(t){var a,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state.name,r=n.validate(a),console.log(r),c={name:a},r&&(n.props.onAddCategory(c),n.props.onToggleFormCategory());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={name:"",nameErr:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.onToggleFormCategory,t=this.state,a=t.name,n=t.nameErr;return r.a.createElement("div",{className:"ProductFuncBackground"},r.a.createElement(be.a,{className:"ProductFunc"},r.a.createElement(Oe.a,{style:{position:"fixed",top:"0",width:"100%",left:"0",right:"0",margin:"0",padding:"50px 35px 0 70px"}},r.a.createElement(Ce.a,{className:"d-flex justify-content-between p-0"},r.a.createElement("h3",{className:"bt-header mb-5",style:{fontSize:"18px",color:"rgb(22,31,106)"}},"Th\xeam danh m\u1ee5c"),r.a.createElement(de.a,{icon:pe.s,onClick:e}))),r.a.createElement(h.a,{style:{height:"100%",overflow:"scroll"}},r.a.createElement(Oe.a,{className:"w-100 m-0"},r.a.createElement(Ce.a,{xl:"4",style:{padding:"30px"}},r.a.createElement("span",{className:"product-title"},"Th\xeam m\xf4 t\u1ea3 danh m\u1ee5c c\u1ee7a b\u1ea1n v\xe0 th\xf4ng tin c\u1ea7n thi\u1ebft t\u1ea1i \u0111\xe2y.")),r.a.createElement(Ce.a,{className:"product-background"},r.a.createElement(E.a,{className:"update-form"},r.a.createElement(f.a,{className:"product-label",for:"name"},"T\xean danh m\u1ee5c",r.a.createElement("span",{className:"ml-1 text-danger"},"*")),r.a.createElement(g.a,{autoComplete:"off",className:"product-form-control",id:"name",type:"text",name:"name",onChange:this.handleChange,value:a}),n&&r.a.createElement("div",{className:"validation"},n)))),r.a.createElement(Oe.a,{className:"update-btn"},r.a.createElement(Ce.a,{className:"p-0 cancle-btn w-100"},r.a.createElement(d.a,{className:"w-100",onClick:e},"Hu\u1ef7")),r.a.createElement(Ce.a,{className:"p-0 submit-btn w-100"},r.a.createElement(d.a,{className:"w-100",type:"submit",onClick:this.handleClick},"Th\xeam danh m\u1ee5c"))))))}}]),a}(n.Component)),jt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetAllCategory()}},{key:"render",value:function(){var e=this.props,t=e.isOpenFormCategory,a=e.onToggleFormCategory,n=e.category,c=e.onAddCategory,o=e.onDeleteCategory,l=e.onFilterCategory;return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,null),r.a.createElement(nt,{match:this.props.match}),t?r.a.createElement(kt,Object(p.a)({onToggleFormCategory:a,onAddCategory:c},"onToggleFormCategory",a)):"",r.a.createElement("div",{className:"AdminProducts admin-page"},r.a.createElement(be.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col mb-4 pb-0"},r.a.createElement(lt,{type:"Category",onToggleFormCategory:a,onFilterCategory:l}))),r.a.createElement(Oe.a,{style:{padding:"0 15px"}},r.a.createElement(Ce.a,{className:"admin-col p-0",style:{overflow:"auto",maxHeight:"450px"}},r.a.createElement(Je.a,{className:"admin-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"Id danh m\u1ee5c"),r.a.createElement("th",null,"T\xean danh m\u1ee5c"),r.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(Pe,{type:"category",id:e._id,onDeleteCategory:o})))}))))))))))}}]),a}(n.Component),Pt=Object(v.b)((function(e){return{isOpenFormCategory:e.isOpenFormCategory,category:e.category}}),(function(e){return{onToggleFormCategory:function(){e({type:"TOGGLE_FORM_CATEGORY"})},onGetAllCategory:function(){e(W())},onAddCategory:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,j("api/category","POST",e);case 3:n=t.sent,r=n.data,a(V(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onDeleteCategory:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("api/category/".concat(e),"DELETE",null);case 2:n=t.sent,console.log(n.data),a(X(n.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},onFilterCategory:function(t){e(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("api/category?name=".concat(e));case 2:n=t.sent,r=n.data,a(Z(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(jt),Tt=[{path:"/",exact:!0,main:function(){return r.a.createElement(Le,null)}},{path:"/product/:id",exact:!0,main:function(e){return r.a.createElement(xe,{match:e})}},{path:"/checkout",exact:!0,main:function(e){return r.a.createElement(Ke,{history:e})}},{path:"/order-received/:id",exact:!0,main:function(e){return r.a.createElement(ze,{match:e})}},{path:"/order",exact:!0,main:function(){return r.a.createElement(Xe,null)}},{path:"/profile",exact:!0,main:function(){return r.a.createElement(et,null)}},{path:"/admin",exact:!0,main:function(e){return r.a.createElement(Nt,{match:e})}},{path:"/admin/login",exact:!0,main:function(){return r.a.createElement(tt,null)}},{path:"/admin/products",exact:!0,main:function(e){return r.a.createElement(mt,{match:e})}},{path:"/admin/orders",exact:!0,main:function(e){return r.a.createElement(pt,{match:e})}},{path:"/admin/customers",exact:!0,main:function(e){return r.a.createElement(Et,{match:e})}},{path:"/admin/category",exact:!0,main:function(e){return r.a.createElement(Pt,{match:e})}}],wt=a(28),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_CARTITEM":return e=!e,console.log(e),e;case"CLOSE_CARTITEM":return e=!e;case"CARTBTN_CLICK":return e=!0;default:return e}},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signin",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_FORM_SIGNUP":return e="signup";case"OPEN_FORM_SIGNIN":return e="signin";default:return e}},St=a(16),At=[],_t=function(e,t){var a=-1;return e.forEach((function(e,n){e._id===t&&(a=n)})),a},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PRODUCT":case"FILTER_CATEGORY":return e=t.products,Object(St.a)(e);case"FIND_PRODUCT":return e=t.product,Object(St.a)(e);case"GET_ONE_PRODUCT":var a=t.id,n=e.find((function(e){return e._id===a}));return n;case"FILTER_PRODUCTS_ADMIN":case"FILTER_PRODUCTS_BY_NAME":return e=t.products,Object(St.a)(e);case"DELETE_PRODUCT":var r=_t(e,t.product._id);return e.splice(r,1),Object(St.a)(e);case"ADD_PRODUCT":return e.push(t.product),Object(St.a)(e);case"UPDATE_PRODUCT":var c=_t(e,t.product._id);return e[c]=t.product,Object(St.a)(e);default:return Object(St.a)(e)}},Rt=localStorage.getItem("cart"),It=Rt?JSON.parse(Rt):[],Gt=function(e,t){for(var a=-1,n=0;n<e.length;n++)if(e[n].product._id===t._id){a=n;break}return a},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0,a=-1,n=t.product;switch(t.type){case"ADD_TO_CART":return-1!==(a=Gt(e,n))?e[a].quantity+=1:e.push({product:n,quantity:1}),localStorage.setItem("cart",JSON.stringify(e)),Object(St.a)(e);case"DECREASE_CART":return e[a=Gt(e,n)].quantity-=1,0===e[a].quantity&&e.splice(a,1),localStorage.setItem("cart",JSON.stringify(e)),Object(St.a)(e);case"DELETE_CART":return a=Gt(e,n),e.splice(a,1),localStorage.setItem("cart",JSON.stringify(e)),Object(St.a)(e);case"REMOVE_ALL_CART":return e=[],Object(St.a)(e);default:return e}},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PROFILE_FORM":return e=!e;default:return e}},Mt=localStorage.getItem("user"),Bt=Mt?JSON.parse(Mt):{},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(Me.a)({},Bt),t=arguments.length>1?arguments[1]:void 0,a=t.user;switch(t.type){case"LOGIN":return e=a,console.log(e),localStorage.setItem("user",JSON.stringify(a)),Object(Me.a)({},e);case"LOGOUT":return e={},localStorage.removeItem("user"),Object(Me.a)({},e);case"UPDATE_USERPROFILE":return e=a,localStorage.setItem("user",JSON.stringify(a)),Object(Me.a)({},e);default:return e}},Ht=[],Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0,a=t.order,n=t.orders;switch(t.type){case"CREATE_ORDER":return e.push(a),console.log(e),Object(St.a)(e);case"GET_ALL_ORDER":return console.log(n),e=n,console.log(e),Object(St.a)(e);case"GET_ALL_ORDER_ADMIN":case"FILTER_ORDERS":return e=n,Object(St.a)(e);default:return Object(St.a)(e)}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECKOUT_CLICK":return e=!e;default:return e}},zt=[],Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0,a=t.customers;switch(t.type){case"GET_ALL_CUSTOMERS":case"FILTER_CUSTOMERS":return e=a,Object(St.a)(e);default:return Object(St.a)(e)}},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FORM_PRODUCT":return e=!e;default:return e}},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FORM_CATEGORY":return e=!e;default:return e}},Qt={},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_UPDATE":return e=t.product,Object(Me.a)({},e);case"RESET_PRODUCT_UPDATE":return e={},Object(Me.a)({},e);default:return Object(Me.a)({},e)}},Xt=[],Zt=function(e,t){var a=-1;return e.forEach((function(e,n){e._id===t&&(a=n)})),a},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CATEGORY":return console.log(t.category),e=t.category,Object(St.a)(e);case"ADD_CATEGORY":var a=t.category;return e.push(a),Object(St.a)(e);case"DELETE_CATEGORY":var n=Zt(e,t.category._id);return e.splice(n,1),Object(St.a)(e);case"FILTER_CATEGORY_ADMIN":var r=t.category;return e=r,Object(St.a)(e);default:return Object(St.a)(e)}},ta=Object(wt.c)({statusCartItem:xt,Form:Ft,products:Dt,cart:Lt,statusProfileForm:Ut,user:qt,order:Kt,isCheckout:$t,customers:Yt,isOpenFormProduct:Jt,productEditing:Vt,isOpenFormCategory:Wt,category:ea}),aa=a(61),na=a(62),ra=Object(na.a)("pk_test_51HO2ZoBA7xz6XAIm0VnMgBMrLzNHB3nZ4FYKrjBY1pGVViGQzxgHw1f3kcFRdYsKT99OgMFJJUEPUdhMzbzf5BK500Ot5FoLhR"),ca=Object(wt.d)(ta,Object(wt.a)(aa.a)),oa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).showContentMenus=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(ge.b,{key:t,path:e.path,exact:e.exact,component:e.main})}))),r.a.createElement(ge.d,null,t)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(Be.Elements,{stripe:ra},r.a.createElement(v.a,{store:ca},r.a.createElement(le.a,null,r.a.createElement("div",{className:"App"},this.showContentMenus(Tt)))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[63,1,2]]]);
//# sourceMappingURL=main.d7ef4371.chunk.js.map